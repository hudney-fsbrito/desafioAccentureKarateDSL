{"failedCount":1,"prefixedPath":"classpath:features\/03_livraria\/06_registrar-livro-usuario.feature","packageQualifiedName":"features.03_livraria.06_registrar-livro-usuario","loopIndex":-1,"relativePath":"features\/03_livraria\/06_registrar-livro-usuario.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1265400,"startTime":1768175359825,"endTime":1768175359826,"millis":1.2654,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"20:49:19.825 karate.env system property was: null \n20:49:19.825 karate.env system property was: null \n"},{"result":{"nanos":3158145300,"errorMessage":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12\nclasspath:features\/03_livraria\/06_registrar-livro-usuario.feature:6","startTime":1768175359825,"endTime":1768175362983,"millis":3158.1453,"status":"failed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def setup = callonce read('classpath:features\/01_setup\/01_setup.feature')"},"stepLog":"20:49:22.990 classpath:features\/03_livraria\/06_registrar-livro-usuario.feature:6\n* def setup = callonce read('classpath:features\/01_setup\/01_setup.feature')\nnot a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12\nclasspath:features\/03_livraria\/06_registrar-livro-usuario.feature:6\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:features\/01_setup\/01_setup.feature","packageQualifiedName":"features.01_setup.01_setup","loopIndex":-1,"relativePath":"features\/01_setup\/01_setup.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1667112600,"startTime":1768175359856,"endTime":1768175361523,"millis":1667.1126,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def cadastro = callonce read('classpath:features\/02_conta\/02_cadastrar-usuario.feature')"},"stepLog":"20:49:21.532 << lock released, cached callonce: read('classpath:features\/02_conta\/02_cadastrar-usuario.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/02_conta\/02_cadastrar-usuario.feature","packageQualifiedName":"features.02_conta.02_cadastrar-usuario","loopIndex":-1,"relativePath":"features\/02_conta\/02_cadastrar-usuario.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8575100,"startTime":1768175359951,"endTime":1768175359960,"millis":8.5751,"status":"passed"},"step":{"comments":["#    * def fakeUser = faker.name().username()","#   * def fakePassword = faker.internet().password(10, 20, true, true, true)"],"line":9,"prefix":"*","index":0,"text":"def nome = Java.type('features.support.utils.Utils').gerarNomeFake()"},"stepLog":"20:49:19.841 >> lock acquired, begin callonce: read('classpath:features\/01_setup\/01_setup.feature')\n20:49:19.904 >> lock acquired, begin callonce: read('classpath:features\/02_conta\/02_cadastrar-usuario.feature')\n"},{"result":{"nanos":3794300,"startTime":1768175359966,"endTime":1768175359970,"millis":3.7943,"status":"passed"},"step":{"line":10,"prefix":"*","index":1,"text":"print nome"},"stepLog":"20:49:19.966 [print] sanches.biz \n"},{"result":{"nanos":10829000,"startTime":1768175359966,"endTime":1768175359977,"millis":10.829,"status":"passed"},"step":{"line":11,"prefix":"*","index":2,"text":"def senha = Java.type('features.support.utils.Utils').gerarSenha()"}},{"result":{"nanos":4675700,"startTime":1768175359982,"endTime":1768175359987,"millis":4.6757,"status":"passed"},"step":{"line":12,"prefix":"*","index":3,"text":"def senhaFinal = \"M!n\" + senha"}},{"result":{"nanos":8828200,"startTime":1768175359982,"endTime":1768175359991,"millis":8.8282,"status":"passed"},"step":{"line":13,"prefix":"*","index":4,"text":"print senha"},"stepLog":"20:49:19.998 [print] i1brf7xyc7mxh3 \n"},{"result":{"nanos":17332300,"startTime":1768175359998,"endTime":1768175360015,"millis":17.3323,"status":"passed"},"step":{"line":14,"prefix":"*","index":5,"text":"def bodyRequest = read('classpath:features\/02_conta\/dadosConta\/dados-registro-usuario.json')"}},{"result":{"nanos":4470600,"startTime":1768175360013,"endTime":1768175360017,"millis":4.4706,"status":"passed"},"step":{"line":15,"prefix":"*","index":6,"text":"set bodyRequest.userName = nome"}},{"result":{"nanos":1853600,"startTime":1768175360013,"endTime":1768175360015,"millis":1.8536,"status":"passed"},"step":{"line":16,"prefix":"*","index":7,"text":"set bodyRequest.password = senhaFinal"}},{"result":{"nanos":5063400,"startTime":1768175360013,"endTime":1768175360018,"millis":5.0634,"status":"passed"},"step":{"comments":["#* def token = callonce read('classpath:features\/02_conta\/03_gerar-token.feature')"],"line":19,"prefix":"Given","index":8,"text":"url baseUrl"}},{"result":{"nanos":4269400,"startTime":1768175360029,"endTime":1768175360033,"millis":4.2694,"status":"passed"},"step":{"line":20,"prefix":"And","index":9,"text":"path \"\/Account\/v1\/User\""}},{"result":{"nanos":4234400,"startTime":1768175360029,"endTime":1768175360033,"millis":4.2344,"status":"passed"},"step":{"line":21,"prefix":"And","index":10,"text":"request bodyRequest"}},{"result":{"nanos":1474222900,"startTime":1768175360029,"endTime":1768175361503,"millis":1474.2229,"status":"passed"},"step":{"line":22,"prefix":"When","index":11,"text":"method post"},"stepLog":"20:49:20.045 request:\n1 > POST https:\/\/bookstore.toolsqa.com\/Account\/v1\/User\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 57\n1 > Host: bookstore.toolsqa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"userName\":\"sanches.biz\",\"password\":\"M!ni1brf7xyc7mxh3\"}\n\n20:49:21.500 response time in milliseconds: 1455\n1 < 201\n1 < Server: nginx\/1.17.10 (Ubuntu)\n1 < Date: Sun, 11 Jan 2026 23:49:21 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 85\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"55-X0WGJ3OwOJHuBJYDKhoulcOnIy0\"\n{\"userID\":\"fc00cccd-c3a5-4e7f-ae6e-b8e6dd203968\",\"username\":\"sanches.biz\",\"books\":[]}\n\n"},{"result":{"nanos":35600,"startTime":1768175361516,"endTime":1768175361516,"millis":0.0356,"status":"passed"},"step":{"line":23,"prefix":"Then","index":12,"text":"status 201"}},{"result":{"nanos":1315300,"startTime":1768175361516,"endTime":1768175361517,"millis":1.3153,"status":"passed"},"step":{"line":24,"prefix":"*","index":13,"text":"def usuarioSalvo = nome"}},{"result":{"nanos":1139400,"startTime":1768175361516,"endTime":1768175361517,"millis":1.1394,"status":"passed"},"step":{"line":25,"prefix":"*","index":14,"text":"def senhaSalva = senhaFinal"}},{"result":{"nanos":3443100,"startTime":1768175361516,"endTime":1768175361519,"millis":3.4431,"status":"passed"},"step":{"line":26,"prefix":"And","index":15,"text":"print response"},"stepLog":"20:49:21.516 [print] {\n  \"userID\": \"fc00cccd-c3a5-4e7f-ae6e-b8e6dd203968\",\n  \"username\": \"sanches.biz\",\n  \"books\": [\n  ]\n}\n \n"},{"result":{"nanos":4144100,"startTime":1768175361516,"endTime":1768175361520,"millis":4.1441,"status":"passed"},"step":{"line":27,"prefix":"And","index":16,"text":"def usuarioID = response.userId"}},{"result":{"nanos":3248900,"startTime":1768175361516,"endTime":1768175361519,"millis":3.2489,"status":"passed"},"step":{"line":28,"prefix":"And","index":17,"text":"print usuarioID"},"stepLog":"20:49:21.516 [print] null \n"}],"line":6,"description":"","durationMillis":1561.4753,"failed":false,"tags":["all","registrarUsuario"],"executorName":"pool-1-thread-5","name":"Cadastro usuario","startTime":1768175359951,"refId":"[1:6]","endTime":1768175361532,"exampleIndex":-1}],"callDepth":2,"name":"Cadastro usuarios","description":"","resultDate":"2026-01-11 08:49:29 PM","durationMillis":1561.4753,"passedCount":1}]},{"result":{"nanos":2462200,"startTime":1768175361532,"endTime":1768175361534,"millis":2.4622,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"def userID = cadastro.usuarioID"}},{"result":{"nanos":2635400,"startTime":1768175361532,"endTime":1768175361535,"millis":2.6354,"status":"passed"},"step":{"line":6,"prefix":"*","index":2,"text":"def userName = cadastro.userName"}},{"result":{"nanos":3145400,"startTime":1768175361532,"endTime":1768175361535,"millis":3.1454,"status":"passed"},"step":{"line":7,"prefix":"*","index":3,"text":"def password = cadastro.password"}},{"result":{"nanos":1415109600,"startTime":1768175361532,"endTime":1768175362947,"millis":1415.1096,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def tokenResult = callonce read('classpath:features\/02_conta\/03_gerar-token.feature')"},"stepLog":"20:49:22.943 << lock released, cached callonce: read('classpath:features\/02_conta\/03_gerar-token.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/02_conta\/03_gerar-token.feature","packageQualifiedName":"features.02_conta.03_gerar-token","loopIndex":-1,"relativePath":"features\/02_conta\/03_gerar-token.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11733000,"startTime":1768175361563,"endTime":1768175361575,"millis":11.733,"status":"passed"},"step":{"line":7,"prefix":"*","index":0,"text":"def bodyRequest = read('classpath:features\/02_conta\/dadosConta\/dados-registro-usuario.json')"},"stepLog":"20:49:21.548 >> lock acquired, begin callonce: read('classpath:features\/02_conta\/03_gerar-token.feature')\n"},{"result":{"nanos":615900,"startTime":1768175361579,"endTime":1768175361580,"millis":0.6159,"status":"passed"},"step":{"line":9,"prefix":"Given","index":1,"text":"url baseUrl"}},{"result":{"nanos":1059500,"startTime":1768175361579,"endTime":1768175361580,"millis":1.0595,"status":"passed"},"step":{"line":10,"prefix":"And","index":2,"text":"path \"\/Account\/v1\/GenerateToken\""}},{"result":{"nanos":665400,"startTime":1768175361579,"endTime":1768175361580,"millis":0.6654,"status":"passed"},"step":{"line":11,"prefix":"And","index":3,"text":"request bodyRequest"}},{"result":{"nanos":1362088700,"startTime":1768175361579,"endTime":1768175362941,"millis":1362.0887,"status":"passed"},"step":{"line":12,"prefix":"When","index":4,"text":"method post"},"stepLog":"20:49:21.595 request:\n1 > POST https:\/\/bookstore.toolsqa.com\/Account\/v1\/GenerateToken\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 57\n1 > Host: bookstore.toolsqa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"userName\":\"#(usuarioSalvo)\",\"password\":\"#(senhaSalva)\"}\n\n20:49:22.943 response time in milliseconds: 1348\n1 < 200\n1 < Server: nginx\/1.17.10 (Ubuntu)\n1 < Date: Sun, 11 Jan 2026 23:49:22 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 85\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"55-uDqoBYBzbvMfwcbBiE9kdrLOtHY\"\n{\"token\":null,\"expires\":null,\"status\":\"Failed\",\"result\":\"User authorization failed.\"}\n\n"},{"result":{"nanos":2153000,"startTime":1768175362943,"endTime":1768175362945,"millis":2.153,"status":"passed"},"step":{"line":13,"prefix":"Then","index":5,"text":"response.token != null"}},{"result":{"nanos":2036900,"startTime":1768175362943,"endTime":1768175362945,"millis":2.0369,"status":"passed"},"step":{"line":14,"prefix":"*","index":6,"text":"print response"},"stepLog":"20:49:22.943 [print] {\n  \"token\": null,\n  \"expires\": null,\n  \"status\": \"Failed\",\n  \"result\": \"User authorization failed.\"\n}\n \n"},{"result":{"nanos":2264200,"startTime":1768175362943,"endTime":1768175362945,"millis":2.2642,"status":"passed"},"step":{"line":15,"prefix":"*","index":7,"text":"def token = response.token"}}],"line":6,"description":"","durationMillis":1382.6166,"failed":false,"tags":["all","token"],"executorName":"pool-1-thread-5","name":"Gerar token","startTime":1768175361563,"refId":"[1:6]","endTime":1768175362943,"exampleIndex":-1}],"callDepth":2,"name":"Gerar token para autenticação","description":"","resultDate":"2026-01-11 08:49:29 PM","durationMillis":1382.6166,"passedCount":1}]},{"result":{"nanos":2402700,"startTime":1768175362943,"endTime":1768175362945,"millis":2.4027,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"def token = tokenResult.response.token"}},{"result":{"nanos":31955100,"errorMessage":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12","startTime":1768175362959,"endTime":1768175362991,"millis":31.9551,"status":"failed"},"step":{"line":12,"prefix":"*","index":6,"text":"def autorizacao = callonce read('classpath:features\/02_conta\/04_autorizar-usuario.feature')"},"stepLog":"20:49:22.990 classpath:features\/01_setup\/01_setup.feature:12\n* def autorizacao = callonce read('classpath:features\/02_conta\/04_autorizar-usuario.feature')\nnot a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:features\/02_conta\/04_autorizar-usuario.feature","packageQualifiedName":"features.02_conta.04_autorizar-usuario","loopIndex":-1,"relativePath":"features\/02_conta\/04_autorizar-usuario.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":9106900,"errorMessage":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7","startTime":1768175362974,"endTime":1768175362983,"millis":9.1069,"status":"failed"},"step":{"line":7,"prefix":"*","index":0,"text":"def bodyRequest = callonce read('classpath:features\/02_conta\/dadosConta\/dados-registro-usuario.json')"},"stepLog":"20:49:22.959 >> lock acquired, begin callonce: read('classpath:features\/02_conta\/04_autorizar-usuario.feature')\n20:49:22.990 >> lock acquired, begin callonce: read('classpath:features\/02_conta\/dadosConta\/dados-registro-usuario.json')\n20:49:22.990 classpath:features\/02_conta\/04_autorizar-usuario.feature:7\n* def bodyRequest = callonce read('classpath:features\/02_conta\/dadosConta\/dados-registro-usuario.json')\nnot a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\n"},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":9,"prefix":"Given","index":1,"text":"url baseUrl"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":10,"prefix":"And","index":2,"text":"path \"\/Account\/v1\/Authorized\""}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"And","index":3,"text":"request bodyRequest"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"When","index":4,"text":"method post"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":6,"text":"print response"}}],"line":6,"description":"","durationMillis":9.1069,"failed":true,"error":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7","tags":["all","auth"],"executorName":"pool-1-thread-5","name":"Autorizar usuário","startTime":1768175362974,"refId":"[1:6]","endTime":1768175362990,"exampleIndex":-1}],"callDepth":2,"name":"Autorizar","description":"","resultDate":"2026-01-11 08:49:29 PM","durationMillis":9.1069,"passedCount":0}]},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":7,"text":"def livros = callonce read('classpath:features\/03_livraria\/05_listar-livros.feature@all')"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"*","index":8,"text":"def isbn = livros.isbnSalvo"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"endLine":26,"line":17,"prefix":"*","docString":"{\n  userId:   \"#(userId)\",\n  userName: \"#(userName)\",\n  password: \"#(password)\",\n  token:    \"#(token)\",\n  isbn:     \"#(isbn)\"\n}","index":9,"text":"def result ="}}],"line":3,"description":"","durationMillis":3124.823,"failed":true,"error":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12","executorName":"pool-1-thread-5","name":"Preparar dados","startTime":1768175359856,"refId":"[1:3]","endTime":1768175362990,"exampleIndex":-1}],"callDepth":1,"name":"Setup para teste geral","description":"","resultDate":"2026-01-11 08:49:29 PM","durationMillis":3124.823,"passedCount":0}]},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def userID = setup.userID"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def token = setup.token"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def isbn = setup.isbn"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":5,"text":"def bodyRequest = read('classpath:features\/03_livraria\/dadosParaLivro\/adiciona-livro-usuario.json')"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"Given","index":0,"text":"path \"\/BookStore\/v1\/Books\""}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"And","index":1,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":2,"text":"request bodyRequest"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"When","index":3,"text":"method post"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"Then","index":4,"text":"status 201"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":5,"text":"print response"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"And","index":6,"text":"assert responseTime < 5000"}},{"result":{"nanos":0,"startTime":1768175362990,"endTime":1768175362990,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"*","index":7,"text":"def isbn = response.collectionOfIsbns.isbn"}}],"line":16,"description":"","durationMillis":3159.4107,"failed":true,"error":"not a callable feature or js function: [type: MAP, value: {userName=#(usuarioSalvo), password=#(senhaSalva)}]\nclasspath:features\/02_conta\/04_autorizar-usuario.feature:7\nclasspath:features\/01_setup\/01_setup.feature:12\nclasspath:features\/03_livraria\/06_registrar-livro-usuario.feature:6","tags":["all","registrarLivros"],"executorName":"pool-1-thread-5","name":"Adicionar livro ao usuário","startTime":1768175359809,"refId":"[1:16]","endTime":1768175362990,"exampleIndex":-1}],"callDepth":0,"name":"Registrar livro","description":"","resultDate":"2026-01-11 08:49:29 PM","durationMillis":3159.4107,"passedCount":0}